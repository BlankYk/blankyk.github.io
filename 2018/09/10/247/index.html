<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-cn">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.4.1" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="http://cloud.css0209.cn/css0209img/logo.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="32x32" href="http://cloud.css0209.cn/css0209img/logo.png?v=6.4.1">


  <link rel="icon" type="image/png" sizes="16x16" href="http://cloud.css0209.cn/css0209img/logo.png?v=6.4.1">


  <link rel="mask-icon" href="/images/logo.svg?v=6.4.1" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '6.4.1',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="今天在学习Django时遇到一个问题# 首先安装Mysql驱动brew install mysql-connector-c# 第一条到没什么问题，但是第二条命令。。。sudo pip install mysqlclient 当我按下Enter键后，出现了以下的报错： Password:The directory ‘/Users/blankyk/Library/Caches/pip/http’ or">
<meta property="og:type" content="article">
<meta property="og:title" content="sudo pip install mysqlclient报错">
<meta property="og:url" content="http://css0209.cn/2018/09/10/247/index.html">
<meta property="og:site_name" content="BlankYk Blog">
<meta property="og:description" content="今天在学习Django时遇到一个问题# 首先安装Mysql驱动brew install mysql-connector-c# 第一条到没什么问题，但是第二条命令。。。sudo pip install mysqlclient 当我按下Enter键后，出现了以下的报错： Password:The directory ‘/Users/blankyk/Library/Caches/pip/http’ or">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="http://cloud.css0209.cn/2018/09/9150e4e5ly1fkzc8c405bj20e80cjaab.jpg">
<meta property="og:updated_time" content="2018-09-14T22:28:48.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="sudo pip install mysqlclient报错">
<meta name="twitter:description" content="今天在学习Django时遇到一个问题# 首先安装Mysql驱动brew install mysql-connector-c# 第一条到没什么问题，但是第二条命令。。。sudo pip install mysqlclient 当我按下Enter键后，出现了以下的报错： Password:The directory ‘/Users/blankyk/Library/Caches/pip/http’ or">
<meta name="twitter:image" content="http://cloud.css0209.cn/2018/09/9150e4e5ly1fkzc8c405bj20e80cjaab.jpg">






  <link rel="canonical" href="http://css0209.cn/2018/09/10/247/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>sudo pip install mysqlclient报错 | BlankYk Blog</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-cn">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
<a href="https://your-url" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">BlankYk Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">Blog</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://css0209.cn/2018/09/10/247/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="BlankYK">
      <meta itemprop="description" content="世界上只有2种人，会二进制的和不会二进制的">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="BlankYk Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">sudo pip install mysqlclient报错
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-10 22:05:33" itemprop="dateCreated datePublished" datetime="2018-09-10T22:05:33+08:00">2018-09-10</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-09-15 06:28:48" itemprop="dateModified" datetime="2018-09-15T06:28:48+08:00">2018-09-15</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/未分类/" itemprop="url" rel="index"><span itemprop="name">未分类</span></a></span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="今天在学习Django时遇到一个问题"><a href="#今天在学习Django时遇到一个问题" class="headerlink" title="今天在学习Django时遇到一个问题"></a>今天在学习Django时遇到一个问题</h1><p># 首先安装Mysql驱动<br>brew install mysql-connector-c<br># 第一条到没什么问题，但是第二条命令。。。<br>sudo pip install mysqlclient</p>
<p>当我按下<code>Enter</code>键后，出现了以下的报错：</p>
<p>Password:<br>The directory ‘/Users/blankyk/Library/Caches/pip/http’ or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo’s -H flag.<br>The directory ‘/Users/blankyk/Library/Caches/pip’ or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo’s -H flag.<br>Collecting mysqlclient<br>  Downloading <a href="https://files.pythonhosted.org/packages/ec/fd/83329b9d3e14f7344d1cb31f128e6dbba70c5975c9e57896815dbb1988ad/mysqlclient-1.3.13.tar.gz" target="_blank" rel="noopener">https://files.pythonhosted.org/packages/ec/fd/83329b9d3e14f7344d1cb31f128e6dbba70c5975c9e57896815dbb1988ad/mysqlclient-1.3.13.tar.gz</a> (90kB)<br>    100% |████████████████████████████████| 92kB 147kB/s<br>    Complete output from command python setup.py egg_info:<br>    Traceback (most recent call last):<br>      File “”, line 1, in<br>      File “/private/tmp/pip-install-2m1bow3w/mysqlclient/setup.py”, line 18, in<br>        metadata, options = get_config()<br>      File “/private/tmp/pip-install-2m1bow3w/mysqlclient/setup_posix.py”, line 60, in get_config<br>        libraries = [dequote(i[2:]) for i in libs if i.startswith(‘-l’)]<br>      File “/private/tmp/pip-install-2m1bow3w/mysqlclient/setup_posix.py”, line 60, in<br>        libraries = [dequote(i[2:]) for i in libs if i.startswith(‘-l’)]<br>      File “/private/tmp/pip-install-2m1bow3w/mysqlclient/setup_posix.py”, line 13, in dequote<br>        raise Exception(“Wrong MySQL configuration: maybe <a href="https://bugs.mysql.com/bug.php?id=86971" target="_blank" rel="noopener">https://bugs.mysql.com/bug.php?id=86971</a> ?”)<br>    Exception: Wrong MySQL configuration: maybe <a href="https://bugs.mysql.com/bug.php?id=86971" target="_blank" rel="noopener">https://bugs.mysql.com/bug.php?id=86971</a> ?</p>
<pre><code>----------------------------------------
</code></pre><p>Command “python setup.py egg_info” failed with error code 1 in /private/tmp/pip-install-2m1bow3w/mysqlclient/</p>
<p>首先我用的是macOS Height Sierra 10.13.6(黑苹果) 然后，我就日常Google了，然后在<a href="https://www.easegamer.com/?p=545" target="_blank" rel="noopener">www.easegamer.com/?p=545</a>找到了解决方案和答案 这个问题出现的原因是mysql-connector-c中配置项有误 mysqlclient开发小组的核心成员，来自日本的大神INADA Naoki给出了临时性的解决办法，具体可以去看<a href="https://github.com/PyMySQL/mysqlclient-python/issues/169#issuecomment-299778504" target="_blank" rel="noopener">GitHub上mysqlclient的issue</a> 针对于Mac的话我参照<a href="https://www.easegamer.com/?p=545" target="_blank" rel="noopener">此博客</a>中的方法解决如下：</p>
<p># 找到mysql_config文件，我的电脑上地址为：/usr/local/Cellar/mysql-connector-c/6.1.11/bin/mysql_config<br># 然后我是用vscode打开的文件，不知道为什么，就算我用<code>sudo vim</code>打开这个文件，也只有只读权限，打开后找到114行：<br># Create options<br>libs=”-L$pkglibdir”<br>libs=”$libs -l”</p>
<p># 修改为：<br># Create options<br>libs=”-L$pkglibdir”<br>libs=”$libs -lmysqlclient -lssl -lcrypto”</p>
<p>保存，然后提示只读，点击覆盖即可，退出 再次执行</p>
<p>(venv) ➜  curriculum sudo pip install mysqlclient<br>Password:<br>The directory ‘/Users/blankyk/Library/Caches/pip/http’ or its parent directory is not owned by the current user and the cache has been disabled. Please check the permissions and owner of that directory. If executing pip with sudo, you may want sudo’s -H flag.<br>The directory ‘/Users/blankyk/Library/Caches/pip’ or its parent directory is not owned by the current user and caching wheels has been disabled. check the permissions and owner of that directory. If executing pip with sudo, you may want sudo’s -H flag.<br>Collecting mysqlclient<br>  Downloading <a href="https://files.pythonhosted.org/packages/ec/fd/83329b9d3e14f7344d1cb31f128e6dbba70c5975c9e57896815dbb1988ad/mysqlclient-1.3.13.tar.gz" target="_blank" rel="noopener">https://files.pythonhosted.org/packages/ec/fd/83329b9d3e14f7344d1cb31f128e6dbba70c5975c9e57896815dbb1988ad/mysqlclient-1.3.13.tar.gz</a> (90kB)<br>    100% |████████████████████████████████| 92kB 124kB/s<br>Installing collected packages: mysqlclient<br>  Running setup.py install for mysqlclient … done<br>Successfully installed mysqlclient-1.3.13</p>
<p>大概就是这么肥事， 希望Oracle尽快修复这个问题 <img src="http://cloud.css0209.cn/2018/09/9150e4e5ly1fkzc8c405bj20e80cjaab.jpg" alt=""></p>

      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/09/240/" rel="next" title="Linux Vi/Vim笔记">
                <i class="fa fa-chevron-left"></i> Linux Vi/Vim笔记
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/09/10/251/" rel="prev" title="Chrome/Firefox非安全端口问题">
                Chrome/Firefox非安全端口问题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">BlankYK</p>
              <p class="site-description motion-element" itemprop="description">世界上只有2种人，会二进制的和不会二进制的</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">13</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#今天在学习Django时遇到一个问题"><span class="nav-number">1.</span> <span class="nav-text">今天在学习Django时遇到一个问题</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">BlankYK</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Pisces</a> v6.4.1</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.4.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=6.4.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=6.4.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=6.4.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=6.4.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.4.1"></script>



  



  










  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
